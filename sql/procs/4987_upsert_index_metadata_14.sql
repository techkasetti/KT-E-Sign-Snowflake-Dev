CREATE OR REPLACE PROCEDURE DOCGEN.UPSERT_INDEX_METADATA_14(index_name STRING, description STRING, vector_dim NUMBER)
RETURNS VARIANT
LANGUAGE SQL
AS
$$
MERGE INTO DOCGEN.INDEX_METADATA_14 t
USING (SELECT :index_name AS iname, :description AS desc, :vector_dim AS dim) s
ON t.INDEX_NAME = s.iname
WHEN MATCHED THEN UPDATE SET DESCRIPTION = s.desc, VECTOR_DIM = s.dim
WHEN NOT MATCHED THEN INSERT (INDEX_NAME, DESCRIPTION, VECTOR_DIM) VALUES (s.iname, s.desc, s.dim);
$$

