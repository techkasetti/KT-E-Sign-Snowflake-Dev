CREATE OR REPLACE PROCEDURE DOCGEN.UPSERT_DASHBOARD_WIDGET_06(widget_id STRING, name STRING, config VARIANT, owner STRING)
RETURNS VARIANT
LANGUAGE SQL
AS
$$
MERGE INTO DOCGEN.DASHBOARD_WIDGETS_06 t USING (SELECT :widget_id AS wid, :name AS nm, :config AS cfg, :owner AS o) s ON t.WIDGET_ID = s.wid WHEN MATCHED THEN UPDATE SET NAME = s.nm, CONFIG = s.cfg, OWNER = s.o, UPDATED_AT = CURRENT_TIMESTAMP() WHEN NOT MATCHED THEN INSERT (WIDGET_ID, NAME, CONFIG, OWNER) VALUES (s.wid, s.nm, s.cfg, s.o);
$$
