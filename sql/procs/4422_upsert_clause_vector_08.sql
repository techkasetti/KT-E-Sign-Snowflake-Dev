CREATE OR REPLACE PROCEDURE DOCGEN.UPSERT_CLAUSE_VECTOR_08(index_id STRING, clause_id STRING, vector VECTOR, meta VARIANT)
RETURNS VARIANT
LANGUAGE SQL
AS
$$
MERGE INTO DOCGEN.CLAUSE_SIMILARITY_INDEX_08 t USING (SELECT :index_id AS iid, :clause_id AS cid, :vector AS vec, :meta AS m) s ON t.INDEX_ID = s.iid WHEN MATCHED THEN UPDATE SET CLAUSE_ID = s.cid, VECTOR = s.vec, META = s.m WHEN NOT MATCHED THEN INSERT (INDEX_ID, CLAUSE_ID, VECTOR, META) VALUES (s.iid, s.cid, s.vec, s.m);
$$

