CREATE OR REPLACE PROCEDURE DOCGEN.SET_DATA_SENSITIVITY_13(sens_id STRING, field_ref STRING, level STRING)
RETURNS VARIANT
LANGUAGE SQL
AS
$$
MERGE INTO DOCGEN.DATA_SENSITIVITY_13 t USING (SELECT :sens_id AS sid, :field_ref AS fr, :level AS lv) s ON t.SENS_ID = s.sid WHEN MATCHED THEN UPDATE SET FIELD_REF = s.fr, LEVEL = s.lv, UPDATED_AT = CURRENT_TIMESTAMP() WHEN NOT MATCHED THEN INSERT (SENS_ID, FIELD_REF, LEVEL) VALUES (s.sid, s.fr, s.lv);
$$

