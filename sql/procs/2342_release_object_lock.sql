CREATE OR REPLACE PROCEDURE DOCGEN.RELEASE_OBJECT_LOCK(lock_id STRING, unlocked_by STRING, reason STRING)
RETURNS VARIANT
LANGUAGE SQL
AS
$$
DELETE FROM DOCGEN.OBJECT_LOCKS WHERE LOCK_ID = :lock_id;
INSERT INTO DOCGEN.UNLOCK_HISTORY (UNLOCK_ID, LOCK_ID, UNLOCKED_BY, REASON)
VALUES (UUID_STRING(), :lock_id, :unlocked_by, :reason);
$$

