CREATE OR REPLACE PROCEDURE DOCGEN.CACHE_TEMPLATE_PREVIEW(template_id STRING, preview_url STRING, ttl_minutes INT)
RETURNS VARIANT
LANGUAGE SQL
AS
$$ INSERT INTO DOCGEN.TEMPLATE_PREVIEW_CACHE (CACHE_ID, TEMPLATE_ID, PREVIEW_URL, EXPIRES_AT) VALUES (UUID_STRING(), :template_id, :preview_url, DATEADD(minute, :ttl_minutes, CURRENT_TIMESTAMP())); $$;

